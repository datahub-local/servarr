{
  "packages": [
    "k3d@latest",
    "k9s@latest",
    "kubernetes-helm@latest",
    "helmfile@latest",
    "uv@latest",
    "chart-testing@latest"
  ],
  "init_hook": [],
  "shell": {
    "scripts": {
      "debug_k8s": [
        "./.github/ci/debug_k8s.sh"
      ],
      "start_k8s": [
        "./.github/ci/start_k8s.sh"
      ],
      "stop_k8s": [
        "./.github/ci/stop_k8s.sh"
      ],
      "test_k8s": [
        "./.github/ci/test_k8s.sh"
      ],
      "setup_python": [
        "uv venv .venv && uv pip install -r servarr/config/scripts/requirements.txt"
      ],
      "test_install": "helm upgrade --install --dependency-update --create-namespace --namespace servarr --values .github/ci/ci-values.yaml servarr servarr",
      "test_delete": "kubectl delete ns --force servarr || true",
      "lint_chart": "ct lint --chart-dirs=. --charts=servarr --validate-maintainers=false",
      "unittest": "(helm plugin install https://github.com/helm-unittest/helm-unittest || true) && helm unittest servarr"
    }
  }
}