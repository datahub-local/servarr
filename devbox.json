{
  "packages": [
    "k3d@latest",
    "k9s@latest",
    "kubernetes-helm@latest",
    "helmfile@latest",
    "uv@latest"
  ],
  "init_hook": [
    "helm plugin install https://github.com/databus23/helm-diff 2> /dev/null || true",
    "helm plugin install https://github.com/helm-unittest/helm-unittest.git 2> /dev/null || true"
  ],
  "shell": {
    "scripts": {
      "test_start_k8s": [
        "./.github/ci/start_k8s.sh"
      ],
      "test_stop_k8s": [
        "./.github/ci/stop_k8s.sh"
      ],
      "test_setup_python": [
        "uv venv .venv && uv pip install -r servarr/config/scripts/requirements.txt"
      ],
      "test_install": "helm upgrade --install --dependency-update --create-namespace --namespace servarr --values .github/ci/ci-values.yaml servarr servarr",
      "test_delete": "kubectl delete ns servarr || true"
    }
  }
}